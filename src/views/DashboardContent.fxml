<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.TilePane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane fx:id="dashboardContentPane" stylesheets="@../resource/dashboardcontent.css" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0" xmlns="http://javafx.com/javafx/24.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.DashboardContentController">

    <children>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">

            <content>
                <VBox fx:id="dashboardBox" prefHeight="600" prefWidth="800" spacing="20" styleClass="dashboard-content-box">

                    <padding>
                        <Insets bottom="40" left="40" right="40" top="30" />
                    </padding>

                    <!-- HEADER -->
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <children>
                            <VBox>
                                <children>
                                    <Label styleClass="dashboard-header" text="Clinic Dashboard Overview" textFill="#141652">
                                        <font>
                                            <Font size="24" />
                                        </font>
                                    </Label>
                                    <Label fx:id="dateTimeLabel" styleClass="date-time-label" text="DateTime Here" />
                                </children>
                            </VBox>

                            <Region HBox.hgrow="ALWAYS" />

                            <Label fx:id="welcomeLabel" styleClass="welcome-label" text="Welcome Back, Staff!" />
                        </children>
                    </HBox>

                    <!-- STATS GRID -->
                    <TilePane alignment="CENTER" hgap="20" prefColumns="4" prefHeight="450.0" prefWidth="707.0" style="-fx-background-color: D9D9D9;" vgap="20">

                        <!-- CARD 1: Total Medicines -->
                        <VBox fx:id="totalMedicinesCard" alignment="CENTER" prefHeight="180" prefWidth="150" styleClass="card-blue">
                            <children>
                                <ImageView fitHeight="56.0" fitWidth="56.0" preserveRatio="true">
                                    <image>
                                        <Image url="@../resource/images_icons/medicine.png" />
                                    </image>
                                </ImageView>
                                <Label fx:id="totalMedicinesLabel" styleClass="stat-value" text="142">
                                    <font><Font name="Impact" size="18" /></font>
                                </Label>
                                <Label styleClass="stat-label" text="Total Medicines" />
                                <Label styleClass="stat-sublabel" text="In Stock" />
                            </children>
                     <TilePane.margin>
                        <Insets bottom="10.0" top="10.0" />
                     </TilePane.margin>
                        </VBox>

                        <!-- CARD 2: Low Supply -->
                        <VBox fx:id="lowSupplyCard" alignment="CENTER" prefHeight="180" prefWidth="150" styleClass="card-yellow">
                            <children>
                                <ImageView fitHeight="56.0" fitWidth="60.0" preserveRatio="true">
                                    <image>
                                        <Image url="@../resource/images_icons/warning.png" />
                                    </image>
                                </ImageView>
                                <Label fx:id="lowSupplyLabel" styleClass="stat-value" text="5">
                                    <font><Font name="Impact" size="18" /></font>
                                </Label>
                                <Label styleClass="stat-label" text="Low Supply" />
                                <Label styleClass="stat-sublabel" text="Requires Refill" />
                            </children>
                     <TilePane.margin>
                        <Insets bottom="10.0" top="10.0" />
                     </TilePane.margin>
                        </VBox>

                        <!-- CARD 3: Total Users -->
                        <VBox fx:id="registeredUserCard" alignment="CENTER" prefHeight="180" prefWidth="150" styleClass="card-green">
                            <children>
                                <ImageView fitHeight="56.0" fitWidth="67.0" preserveRatio="true">
                                    <image>
                                        <Image url="@../resource/images_icons/users.png" />
                                    </image>
                                </ImageView>
                                <Label fx:id="totalUsersLabel" styleClass="stat-value" text="7">
                                    <font><Font name="Impact" size="18" /></font>
                                </Label>
                                <Label styleClass="stat-label" text="Registered Users" />
                                <Label styleClass="stat-sublabel" text="Active Accounts" />
                            </children>
                     <TilePane.margin>
                        <Insets bottom="10.0" top="10.0" />
                     </TilePane.margin>
                        </VBox>

                        <!-- CARD 4: Requests Today -->
                        <VBox fx:id="requestTodayCard" alignment="CENTER" prefHeight="180" prefWidth="150" styleClass="card-purple">
                            <children>
                                <ImageView fitHeight="56.0" fitWidth="56.0" preserveRatio="true">
                                    <image>
                                        <Image url="@../resource/images_icons/records.png" />
                                    </image>
                                </ImageView>
                                <Label fx:id="requestsTodayLabel" styleClass="stat-value" text="12">
                                    <font><Font name="Impact" size="18" /></font>
                                </Label>
                                <Label styleClass="stat-label" text="Requests Today" />
                                <Label styleClass="stat-sublabel" text="Medicine Requests" />
                            </children>
                     <TilePane.margin>
                        <Insets bottom="10.0" top="10.0" />
                     </TilePane.margin>
                        </VBox>

                        <!-- CARD 5: Expired Items -->
                        <VBox fx:id="expiredItemsCard" alignment="CENTER" prefHeight="180" prefWidth="150" styleClass="card-red">
                            <children>
                                <ImageView fitHeight="56.0" fitWidth="56.0" preserveRatio="true">
                                    <image>
                                        <Image url="@../resource/images_icons/expiration.png" />
                                    </image>
                                </ImageView>
                                <Label fx:id="expiredItemsLabel" styleClass="stat-value" text="3">
                                    <font><Font name="Impact" size="18" /></font>
                                </Label>
                                <Label styleClass="stat-label" text="Expired Items" />
                                <Label styleClass="stat-sublabel" text="Needs Disposal" />
                            </children>
                     <TilePane.margin>
                        <Insets bottom="10.0" top="10.0" />
                     </TilePane.margin>
                        </VBox>
                  <styleClass>
                     <String fx:value="stats-grid" />
                     <String fx:value="stats-grid" />
                  </styleClass>

                    </TilePane>

                    <!-- RECENT ACTIVITY -->
                    <VBox spacing="12" styleClass="activity-section">
                        <Label styleClass="section-title" text="Recent Activity" />
                        <VBox spacing="10" style="-fx-background-color: D9D9D9;" styleClass="activity-list">
                            <HBox styleClass="activity-item">
                                <Label styleClass="activity-dot" text="â€¢" />
                                <VBox>
                                    <Label styleClass="activity-text" text="New medicine request submitted by Nurse Rodriguez" />
                                    <Label styleClass="activity-time" text="2 hours ago" />
                                </VBox>
                            </HBox>

                            <HBox styleClass="activity-item">
                                <Label styleClass="activity-dot" text="â€¢" />
                                <VBox>
                                    <Label styleClass="activity-text" text="Paracetamol stock replenished (+50 units)" />
                                    <Label styleClass="activity-time" text="5 hours ago" />
                                </VBox>
                            </HBox>

                            <HBox styleClass="activity-item">
                                <Label styleClass="activity-dot" text="â€¢" />
                                <VBox>
                                    <Label styleClass="activity-text" text="Low stock alert: Betadine (10 units remaining)" />
                                    <Label styleClass="activity-time" text="1 day ago" />
                                </VBox>
                            </HBox>
                        </VBox>
                    </VBox>

                    <!-- QUICK ACTIONS -->
                    <HBox alignment="CENTER" spacing="15" styleClass="quick-actions">
                        <Button onAction="#handleAddNewMedicine" prefHeight="44" styleClass="action-button" text="âž• Add New Medicine" />
                        <Button onAction="#handleViewInventory" prefHeight="44" styleClass="action-button" text="ðŸ“¦ View Inventory" />
                        <Button onAction="#handleNewRequest" prefHeight="44" styleClass="action-button" text="ðŸ§¾ New Request" />
                    </HBox>

                </VBox>
            </content>
        </ScrollPane>
    </children>
</AnchorPane>
