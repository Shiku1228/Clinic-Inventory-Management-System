<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.shape.Circle?>


<AnchorPane prefHeight="600" prefWidth="900" stylesheets="@../resource/manageusers.css" xmlns="http://javafx.com/javafx/24.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.ManageUsersController">

    <VBox spacing="20" styleClass="manage-users-root" AnchorPane.bottomAnchor="20" AnchorPane.leftAnchor="20" AnchorPane.rightAnchor="20" AnchorPane.topAnchor="20">

        <!-- TITLE -->
        <VBox spacing="5">
            <Label styleClass="page-title" text="Manage Users" />
            <Label styleClass="page-subtitle" text="Manage the registered users in this interface." />
        </VBox>

        <!-- SUMMARY CARDS -->
        <HBox alignment="CENTER_LEFT" spacing="15">

            <VBox fx:id="directorCard" alignment="CENTER" prefWidth="180" styleClass="summary-card">
                <Label styleClass="summary-number" text="1" />
                <Label styleClass="summary-label" text="Registered Director" />
            </VBox>

            <VBox fx:id="doctorCard" alignment="CENTER" prefWidth="180" styleClass="summary-card">
                <Label styleClass="summary-number" text="3" />
                <Label styleClass="summary-label" text="Registered Doctor" />
            </VBox>

            <VBox fx:id="nurseCard" alignment="CENTER" prefWidth="180" styleClass="summary-card">
                <Label styleClass="summary-number" text="1" />
                <Label styleClass="summary-label" text="Registered Nurse" />
            </VBox>

            <VBox fx:id="adminCard" alignment="CENTER" prefWidth="180" styleClass="summary-card">
                <Label styleClass="summary-number" text="2" />
                <Label styleClass="summary-label" text="Registered Admin" />
            </VBox>

        </HBox>

        <!-- SEARCH BAR -->
        <HBox alignment="CENTER_LEFT" spacing="10" styleClass="search-bar">
            <ImageView fitHeight="18" fitWidth="18">
                <image>
                    <Image url="@../resource/search.png" />
                </image>
            </ImageView>
            <TextField fx:id="searchField" promptText="Search user..." />
        </HBox>

        <!-- SELECTED USER CARD -->
        <HBox alignment="CENTER_LEFT" spacing="20" styleClass="user-profile-card">

            <!-- AVATAR WRAPPER WITH CIRCULAR BORDER -->
            <StackPane fx:id="avatarWrapper" prefWidth="120" prefHeight="120">
                <!-- BORDER CIRCLE (default color, can change dynamically in controller) -->
                <Circle fx:id="avatarBorder" radius="60" fill="TRANSPARENT" stroke="#FFD700" strokeWidth="4" />

                <!-- AVATAR IMAGE -->
                <ImageView fx:id="userAvatar"
                           fitWidth="120"
                           fitHeight="120"
                           preserveRatio="false"
                           smooth="true">
                    <clip>
                        <Circle radius="60" />
                    </clip>
                </ImageView>
            </StackPane>

            <VBox spacing="5">
                <Label fx:id="userName" styleClass="user-name" text="" />
                <Label fx:id="userClinic" styleClass="user-info" text="" />
                <Label fx:id="userEmail" styleClass="user-info" text="" />
                <Label fx:id="userPhone" styleClass="user-info" text="" />
            </VBox>

            <Region prefHeight="90.0" prefWidth="277.0" HBox.hgrow="ALWAYS" />

            <HBox spacing="10">
                <Button fx:id="editButton" styleClass="edit-btn" text="Edit" />
                <Button fx:id="deactivateButton" styleClass="delete-btn" text="Deactivate" />
            </HBox>

        </HBox>


        <!-- USERS TABLE -->
        <VBox spacing="10" styleClass="table-container">

            <TableView fx:id="usersTable" prefHeight="250">
                <columns>
                    <TableColumn text="User ID" />
                    <TableColumn text="Name" />
                    <TableColumn text="Role" />
                    <TableColumn text="Status" />
                    <TableColumn text="Actions" />
                </columns>
            </TableView>

            <HBox alignment="CENTER_RIGHT">
                <Button fx:id="addUserButton" styleClass="primary-btn" text="Add User" />
            </HBox>

        </VBox>

    </VBox>
    <opaqueInsets>
        <Insets bottom="10.0" left="10.0" right="10.0" top="10.0" />
    </opaqueInsets>

</AnchorPane>
