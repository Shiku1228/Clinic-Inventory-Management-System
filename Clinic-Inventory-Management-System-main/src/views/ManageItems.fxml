<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.TilePane?>
<?import javafx.scene.layout.VBox?>

<AnchorPane prefHeight="600" prefWidth="900" stylesheets="@../resource/manageitems.css" xmlns="http://javafx.com/javafx/24.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.ManageItemsController">

    <VBox spacing="15" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
        <padding>
            <Insets bottom="20" left="20" right="20" top="20" />
        </padding>

        <!-- Header -->
        <VBox spacing="5">
            <Label style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #141652; -fx-font-family: Segoe U;" text="Manage Items" />
            <Label style="-fx-font-size: 12; -fx-text-fill: #000000;" text="Add, update, or remove medicines and supplies in the clinic inventory." />
            <VBox.margin>
                <Insets />
            </VBox.margin>
        </VBox>

        <!-- Summary Boxes -->
        <HBox alignment="CENTER" spacing="20" style="-fx-background-color: #D9D9D9; -fx-background-radius: 10;">
            <padding>
                <Insets bottom="10" left="10" right="10" top="10" />
            </padding>
    
            <!-- Total Medicines -->
            <VBox fx:id="totalMedicinesCard" alignment="CENTER" prefWidth="200.0" style="-fx-background-color: #141652;" styleClass="summary-card">
                <ImageView fitHeight="56.0" fitWidth="56.0">
                    <image>
                        <Image url="@../resource/medicine.png" />
                    </image>
                </ImageView>
                <Label style="-fx-font-family: Impact; -fx-font-size: 20;" text="Total Medicines:" textFill="WHITE" />
                <Label fx:id="totalMedicinesLabel" style="-fx-font-family: Impact; -fx-font-size: 15;" text="0" textFill="WHITE" />
            </VBox>

            <!-- Total Supplies -->
            <VBox fx:id="totalSuppliesCard" alignment="CENTER" prefWidth="200.0" style="-fx-background-color: #33357A;" styleClass="summary-card">
                <ImageView fitHeight="60.0" fitWidth="65.0">
                    <image>
                        <Image url="@../resource/medkit.png" />
                    </image>
                </ImageView>
                <Label style="-fx-font-family: Impact; -fx-font-size: 20;" text="Total Supplies:" textFill="WHITE" />
                <Label fx:id="totalSuppliesLabel" style="-fx-font-family: Impact; -fx-font-size: 15;" text="0" textFill="WHITE" />
            </VBox>

            <!-- Total Equipments -->
            <VBox fx:id="totalEquipmentsCard" alignment="CENTER" prefWidth="200.0" style="-fx-background-color: #141652;" styleClass="summary-card">
                <ImageView fitHeight="57.0" fitWidth="57.0">
                    <image>
                        <Image url="@../resource/stethoscope.png" />
                    </image>
                </ImageView>
                <Label style="-fx-font-family: Impact; -fx-font-size: 20;" text="Total Equipments:" textFill="WHITE" />
                <Label fx:id="totalEquipmentsLabel" style="-fx-font-family: Impact; -fx-font-size: 15;" text="0" textFill="WHITE" />
            </VBox>

            <!-- Low Stocks -->
            <VBox fx:id="lowStocksCard" alignment="CENTER" prefWidth="200.0" style="-fx-background-color: #33357A;" styleClass="summary-card">
                <ImageView fitHeight="60.0" fitWidth="65.0">
                    <image>
                        <Image url="@../resource/warning.png" />
                    </image>
                </ImageView>
                <Label style="-fx-font-family: Impact; -fx-font-size: 20;" text="Low Stocks:" textFill="WHITE" />
                <Label fx:id="lowStocksLabel" style="-fx-font-family: Impact; -fx-font-size: 15;" text="0" textFill="WHITE" />
            </VBox>

        </HBox>


        <!-- Search + View Toggle -->
        <HBox spacing="10">
            <TextField fx:id="searchField" promptText="Search items..." HBox.hgrow="ALWAYS" />
            <Button fx:id="searchBtn" text="Search" />
            <RadioButton fx:id="tableViewToggle" text="Table View" />
            <RadioButton fx:id="galleryViewToggle" text="Gallery View" />
        </HBox>

        <!-- Table / Gallery StackPane -->
        <StackPane VBox.vgrow="ALWAYS">

            <!-- Table View ScrollPane -->
            <ScrollPane fitToHeight="true" fitToWidth="true" visible="true">
                <content>
                    <TableView fx:id="itemsTable" styleClass="column-header">
                        <columns>
                            <TableColumn fx:id="colItemId" text="Item ID" />
                            <TableColumn fx:id="colItemName" text="Item Name" />
                            <TableColumn fx:id="colCategory" text="Category" />
                            <TableColumn fx:id="colStock" text="Stock" />
                            <TableColumn fx:id="colUnit" text="Unit" />
                            <TableColumn fx:id="colExpirationDate" text="Expiration Date" />
                            <TableColumn fx:id="colSupplier" text="Supplier" />
                            <TableColumn fx:id="colStatus" text="Status" />
                        </columns>
                    </TableView>
                </content>
            </ScrollPane>

            <!-- Gallery View ScrollPane -->
            <ScrollPane fx:id="galleryScroll" fitToHeight="true" fitToWidth="true" style="-fx-background-color: transparent;" visible="false">
                <content>
                    <TilePane fx:id="galleryPane" alignment="CENTER" hgap="20" prefColumns="4" style="-fx-background-radius: 10; -fx-border-radius: 10;" styleClass="gallery-pane" vgap="20">

                        <padding>
                            <Insets bottom="20" left="20" right="20" top="20" />
                        </padding>

                    </TilePane>
                </content>
            </ScrollPane>

        </StackPane>

        <!-- Action Buttons -->
        <HBox alignment="CENTER_RIGHT" spacing="10">
            <Button fx:id="addItemBtn" text="Add Item" />
            <Button fx:id="updateStockBtn" text="Update Stock" />
            <Button fx:id="exportDataBtn" text="Export Data" />
            <Button fx:id="removeExpiredBtn" text="Remove Expired" />
        </HBox>

        <!-- Notifications -->
        <VBox spacing="10">
            <Label style="-fx-font-size: 18; -fx-font-weight: bold; -fx-text-fill: #141652;" text="Notifications:" />
            <ScrollPane fitToWidth="true" prefHeight="200" style="-fx-background-color: transparent;">
                <content>
                    <ListView fx:id="notificationsList" focusTraversable="false" styleClass="notifications-list" />
                </content>
            </ScrollPane>
        </VBox>
    </VBox>

</AnchorPane>
